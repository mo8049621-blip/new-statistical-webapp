import{r as K,S as X,a as ce,f as M,R as b,L as D,b as ue,A as pe,i as k,c as fe,d as te,g as B,e as ye,h as me,C as de,j as he,k as w,l as ve,G as be,m as Y,u as xe,E as ge,n as Ae,o as Oe,X as ie,Y as re,p as Pe,q as y,s as je,t as Se,T as we,v as Ee,w as _e,x as Te,y as De,z as U}from"./index-a7ef6de3.js";function E(t){"@babel/helpers - typeof";return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(t)}function Ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,oe(i.key),i)}}function ze(t,e,r){return e&&q(t.prototype,e),r&&q(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $e(t,e,r){return e=N(e),Ce(t,ne()?Reflect.construct(e,r||[],N(t).constructor):e.apply(t,r))}function Ce(t,e){if(e&&(E(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ie(t)}function Ie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ne=function(){return!!t})()}function N(t){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N(t)}function ke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W(t,e)}function W(t,e){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},W(t,e)}function ae(t,e,r){return e=oe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oe(t){var e=Be(t,"string");return E(e)=="symbol"?e:e+""}function Be(t,e){if(E(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(E(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R=function(t){function e(){return Ke(this,e),$e(this,e,arguments)}return ke(e,t),ze(e,[{key:"render",value:function(){return null}}])}(K.Component);ae(R,"displayName","ZAxis");ae(R,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Ne=["option","isActive"];function z(){return z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},z.apply(this,arguments)}function Qe(t,e){if(t==null)return{};var r=Re(t,e),i,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)i=s[n],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}function Re(t,e){if(t==null)return{};var r={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;r[i]=t[i]}return r}function Fe(t){var e=t.option,r=t.isActive,i=Qe(t,Ne);return typeof e=="string"?K.createElement(X,z({option:K.createElement(ce,z({type:e},i)),isActive:r,shapeType:"symbols"},i)):K.createElement(X,z({option:e,isActive:r,shapeType:"symbols"},i))}function _(t){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(t)}function $(){return $=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},$.apply(this,arguments)}function H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H(Object(r),!0).forEach(function(i){j(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function Le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ee(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,le(i.key),i)}}function Me(t,e,r){return e&&ee(t.prototype,e),r&&ee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function We(t,e,r){return e=Q(e),Ve(t,se()?Reflect.construct(e,r||[],Q(t).constructor):e.apply(t,r))}function Ve(t,e){if(e&&(_(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ze(t)}function Ze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function se(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(se=function(){return!!t})()}function Q(t){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q(t)}function Ge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},V(t,e)}function j(t,e,r){return e=le(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function le(t){var e=Je(t,"string");return _(e)=="symbol"?e:e+""}function Je(t,e){if(_(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(_(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C=function(t){function e(){var r;Le(this,e);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return r=We(this,e,[].concat(n)),j(r,"state",{isAnimationFinished:!1}),j(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),j(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),j(r,"id",xe("recharts-scatter-")),r}return Ge(e,t),Me(e,[{key:"renderSymbolsStatically",value:function(i){var n=this,s=this.props,p=s.shape,m=s.activeShape,u=s.activeIndex,d=M(this.props,!1);return i.map(function(l,o){var a=u===o,c=a?m:p,h=O(O({},d),l);return b.createElement(D,$({className:"recharts-scatter-symbol",key:"symbol-".concat(l==null?void 0:l.cx,"-").concat(l==null?void 0:l.cy,"-").concat(l==null?void 0:l.size,"-").concat(o)},ue(n.props,l,o),{role:"img"}),b.createElement(Fe,$({option:c,isActive:a,key:"symbol-".concat(o)},h)))})}},{key:"renderSymbolsWithAnimation",value:function(){var i=this,n=this.props,s=n.points,p=n.isAnimationActive,m=n.animationBegin,u=n.animationDuration,d=n.animationEasing,l=n.animationId,o=this.state.prevPoints;return b.createElement(pe,{begin:m,duration:u,isActive:p,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(a){var c=a.t,h=s.map(function(v,x){var g=o&&o[x];if(g){var A=k(g.cx,v.cx),f=k(g.cy,v.cy),P=k(g.size,v.size);return O(O({},v),{},{cx:A(c),cy:f(c),size:P(c)})}var S=k(0,v.size);return O(O({},v),{},{size:S(c)})});return b.createElement(D,null,i.renderSymbolsStatically(h))})}},{key:"renderSymbols",value:function(){var i=this.props,n=i.points,s=i.isAnimationActive,p=this.state.prevPoints;return s&&n&&n.length&&(!p||!fe(p,n))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(n)}},{key:"renderErrorBar",value:function(){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var n=this.props,s=n.points,p=n.xAxis,m=n.yAxis,u=n.children,d=te(u,ge);return d?d.map(function(l,o){var a=l.props,c=a.direction,h=a.dataKey;return b.cloneElement(l,{key:"".concat(c,"-").concat(h,"-").concat(s[o]),data:s,xAxis:p,yAxis:m,layout:c==="x"?"vertical":"horizontal",dataPointFormatter:function(x,g){return{x:x.cx,y:x.cy,value:c==="x"?+x.node.x:+x.node.y,errorVal:B(x,g)}}})}):null}},{key:"renderLine",value:function(){var i=this.props,n=i.points,s=i.line,p=i.lineType,m=i.lineJointType,u=M(this.props,!1),d=M(s,!1),l,o;if(p==="joint")l=n.map(function(f){return{x:f.cx,y:f.cy}});else if(p==="fitting"){var a=ye(n),c=a.xmin,h=a.xmax,v=a.a,x=a.b,g=function(P){return v*P+x};l=[{x:c,y:g(c)},{x:h,y:g(h)}]}var A=O(O(O({},u),{},{fill:"none",stroke:u&&u.fill},d),{},{points:l});return b.isValidElement(s)?o=b.cloneElement(s,A):me(s)?o=s(A):o=b.createElement(de,$({},A,{type:m})),b.createElement(D,{className:"recharts-scatter-line",key:"recharts-scatter-line"},o)}},{key:"render",value:function(){var i=this.props,n=i.hide,s=i.points,p=i.line,m=i.className,u=i.xAxis,d=i.yAxis,l=i.left,o=i.top,a=i.width,c=i.height,h=i.id,v=i.isAnimationActive;if(n||!s||!s.length)return null;var x=this.state.isAnimationFinished,g=he("recharts-scatter",m),A=u&&u.allowDataOverflow,f=d&&d.allowDataOverflow,P=A||f,S=w(h)?this.id:h;return b.createElement(D,{className:g,clipPath:P?"url(#clipPath-".concat(S,")"):null},A||f?b.createElement("defs",null,b.createElement("clipPath",{id:"clipPath-".concat(S)},b.createElement("rect",{x:A?l:l-a/2,y:f?o:o-c/2,width:A?a:a*2,height:f?c:c*2}))):null,p&&this.renderLine(),this.renderErrorBar(),b.createElement(D,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||x)&&ve.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(i,n){return i.animationId!==n.prevAnimationId?{prevAnimationId:i.animationId,curPoints:i.points,prevPoints:n.curPoints}:i.points!==n.curPoints?{curPoints:i.points}:null}}])}(K.PureComponent);j(C,"displayName","Scatter");j(C,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!be.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});j(C,"getComposedData",function(t){var e=t.xAxis,r=t.yAxis,i=t.zAxis,n=t.item,s=t.displayedData,p=t.xAxisTicks,m=t.yAxisTicks,u=t.offset,d=n.props.tooltipType,l=te(n.props.children,Ae),o=w(e.dataKey)?n.props.dataKey:e.dataKey,a=w(r.dataKey)?n.props.dataKey:r.dataKey,c=i&&i.dataKey,h=i?i.range:R.defaultProps.range,v=h&&h[0],x=e.scale.bandwidth?e.scale.bandwidth():0,g=r.scale.bandwidth?r.scale.bandwidth():0,A=s.map(function(f,P){var S=B(f,o),Z=B(f,a),T=!w(c)&&B(f,c)||"-",G=[{name:w(e.dataKey)?n.props.name:e.name||e.dataKey,unit:e.unit||"",value:S,payload:f,dataKey:o,type:d},{name:w(r.dataKey)?n.props.name:r.name||r.dataKey,unit:r.unit||"",value:Z,payload:f,dataKey:a,type:d}];T!=="-"&&G.push({name:i.name||i.dataKey,unit:i.unit||"",value:T,payload:f,dataKey:c,type:d});var F=Y({axis:e,ticks:p,bandSize:x,entry:f,index:P,dataKey:o}),L=Y({axis:r,ticks:m,bandSize:g,entry:f,index:P,dataKey:a}),J=T!=="-"?i.scale(T):v,I=Math.sqrt(Math.max(J,0)/Math.PI);return O(O({},f),{},{cx:F,cy:L,x:F-I,y:L-I,xAxis:e,yAxis:r,zAxis:i,width:2*I,height:2*I,size:J,node:{x:S,y:Z,z:T},tooltipPayload:G,tooltipPosition:{x:F,y:L},payload:f},l&&l[P]&&l[P].props)});return O({points:A},u)});var Xe=Oe({chartName:"ScatterChart",GraphicalChild:C,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:ie},{axisType:"yAxis",AxisComp:re},{axisType:"zAxis",AxisComp:R}],formatAxisMap:Pe});const Ue=({qqData:t,title:e="QQ Plot"})=>{const r=[{theoretical:-1.96,empirical:-2.1},{theoretical:-1.64,empirical:-1.7},{theoretical:-1.28,empirical:-1.3},{theoretical:-.84,empirical:-.9},{theoretical:-.42,empirical:-.5},{theoretical:0,empirical:0},{theoretical:.42,empirical:.4},{theoretical:.84,empirical:.8},{theoretical:1.28,empirical:1.3},{theoretical:1.64,empirical:1.6},{theoretical:1.96,empirical:2}],i=t&&t.length>0?t:r,n=i.map((o,a)=>({name:`Data Point ${a+1}`,"Theoretical Quantile":o.theoretical,"Empirical Quantile":o.empirical,theoretical:o.theoretical,empirical:o.empirical})),s=i.flatMap(o=>[o.theoretical,o.empirical]),p=Math.min(...s),m=Math.max(...s),u=(m-p)*.1,d=({active:o,payload:a})=>{var c,h,v;return o&&a&&Array.isArray(a)&&a.length>=2&&((h=(c=a[0])==null?void 0:c.payload)!=null&&h.name)?y.jsxs("div",{style:{backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",padding:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[y.jsx("p",{style:{margin:0,fontWeight:"bold"},children:a[0].payload.name}),y.jsxs("p",{style:{margin:"4px 0 0 0"},children:["Theoretical Quantile: ",typeof a[0].value=="number"?a[0].value.toFixed(4):"N/A"]}),y.jsxs("p",{style:{margin:"4px 0 0 0"},children:["Empirical Quantile: ",typeof((v=a[1])==null?void 0:v.value)=="number"?a[1].value.toFixed(4):"N/A"]})]}):null},l=o=>{const{cx:a,cy:c}=o;return y.jsx("circle",{cx:a,cy:c,r:4,stroke:"#4caf50",strokeWidth:1,fill:"#82ca9d",fillOpacity:.7})};return y.jsx(je,{mb:4,children:y.jsxs(Se,{children:[y.jsx(we,{fontSize:"lg",fontWeight:"bold",mb:2,children:e}),y.jsx("div",{style:{height:400},children:y.jsx(Ee,{width:"100%",height:"100%",children:y.jsxs(Xe,{margin:{top:20,right:30,bottom:40,left:40},children:[y.jsx(_e,{strokeDasharray:"3 3",opacity:.3}),y.jsx(ie,{type:"number",dataKey:"Theoretical Quantile",name:"Theoretical Quantile",label:{value:"Theoretical Quantile",position:"bottom",offset:0},domain:[p-u,m+u]}),y.jsx(re,{type:"number",dataKey:"Empirical Quantile",name:"Empirical Quantile",label:{value:"Empirical Quantile",angle:-90,position:"insideLeft",offset:-20},domain:[p-u,m+u]}),y.jsx(Te,{content:({active:o,payload:a})=>y.jsx(d,{active:o||!1,payload:a})}),y.jsx(De,{verticalAlign:"top",height:36}),y.jsx(U,{x:0,y:0,stroke:"red",strokeDasharray:"3 3",opacity:.2}),y.jsx(U,{x:p-u,y:p-u,x2:m+u,y2:m+u,stroke:"#8884d8",strokeDasharray:"3 3",name:"Ideal Fit Line"}),y.jsx(C,{name:"Data Points",data:n,fill:"#82ca9d",x:"Theoretical Quantile",y:"Empirical Quantile",shape:l})]})})})]})})};export{Ue as default};
