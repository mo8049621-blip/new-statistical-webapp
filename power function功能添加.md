### 一、核心功能总览
需添加 **6大核心功能**，涵盖「功效函数计算」和「样本量计算」两大类，覆盖单样本/两样本、均值/比例、单侧/双侧检验场景（仅包含PDF中明确可落地的模型，σ未知的均值检验因依赖随机变量S未纳入）。

---

### 二、具体功能详情（按优先级排序）
#### 功能1：单样本均值检验功效函数计算（σ已知）
- **功能描述**：基于正态分布（σ已知），根据用户输入的假设和参数，计算单样本均值检验的功效值（拒绝原假设的概率）及第二类错误概率。
- **程序设计**：
  1. 先根据检验类型（单侧/双侧）确定z分位数（单侧用zα，双侧用zα/2，zα为标准正态上α分位数，即Φ(zα)=1-α）。
  2. 代入核心公式：
     - 单侧（H1: μ>μ0）：K(μ1) = Φ[(μ1-μ0)/(σ/√n) - zα]
     - 单侧（H1: μ<μ0）：K(μ1) = Φ[(μ1-μ0)/(σ/√n) + zα]
     - 双侧（H1: μ≠μ0）：K(μ1) ≈ Φ(|μ1-μ0|/(σ/√n) - zα/2)（忽略极小项的近似值）
  3. 第二类错误概率β=1-K(μ1)。
- **输入数据**：
  - 假设类型（下拉选择：单侧>、单侧<、双侧）
  - 原假设均值μ0（数值）
  - 备择假设均值μ1（数值）
  - 总体标准差σ（正数）
  - 样本量n（正整数）
  - 显著性水平α（默认0.05，可自定义0-0.1区间）
- **输出数据**：
  - 功效值K(μ1)（保留4位小数）
  - 第二类错误概率β（保留4位小数）
  - 检验类型+参数汇总（文字说明）

---

#### 功能2：单样本均值检验样本量计算（σ已知）
- **功能描述**：根据用户指定的α（第一类错误）、β（第二类错误）和效应量，计算单样本均值检验所需的最小样本量（向上取整）。
- **程序设计**：
  1. 核心公式：
     - 单侧：n ≈ [σ(zα + zβ)/|μ1-μ0|]^2
     - 双侧：n ≈ [σ(zα/2 + zβ)/|μ1-μ0|]^2
  2. 样本量需向上取整（n为整数），并验证实际α和β是否满足要求。
- **输入数据**：
  - 假设类型（下拉选择：单侧>、单侧<、双侧）
  - 原假设均值μ0（数值）
  - 备择假设均值μ1（数值，|μ1-μ0|为效应量）
  - 总体标准差σ（正数）
  - 显著性水平α（默认0.05）
  - 第二类错误概率β（默认0.1，可自定义0-0.2区间）
- **输出数据**：
  - 所需最小样本量n（正整数）
  - 实际验证的α和β值（保留4位小数）
  - 计算依据公式（文字说明）

---

#### 功能3：两样本均值检验功效函数计算（σ已知且相等）
- **功能描述**：基于两独立样本（σX=σY=σ已知），计算均值比较检验的功效值及第二类错误概率，支持单侧/双侧检验。
- **程序设计**：
  1. 定义效应量Δ=μX-μY，原假设Δ0=0，备择假设Δ1≠0。
  2. 核心公式：
     - 单侧（H1: Δ>0）：K(Δ1) = Φ[Δ1/√(2σ²/n) - zα]
     - 双侧（H1: Δ≠0）：K(Δ1) ≈ Φ(|Δ1|/√(2σ²/n) - zα/2)
  3. 第二类错误概率β=1-K(Δ1)。
- **输入数据**：
  - 假设类型（下拉选择：单侧>、单侧<、双侧）
  - 备择假设差值Δ1（μX-μY，数值）
  - 总体标准差σ（正数，两样本共用）
  - 每组样本量n（正整数，默认两组样本量相等）
  - 显著性水平α（默认0.05）
- **输出数据**：
  - 功效值K(Δ1)（保留4位小数）
  - 第二类错误概率β（保留4位小数）
  - 检验类型+参数汇总（文字说明）

---

#### 功能4：两样本均值检验样本量计算（σ已知且相等）
- **功能描述**：根据α、β和效应量，计算两样本均值检验每组所需的最小样本量。
- **程序设计**：
  1. 核心公式：
     - 单侧：n ≈ [2σ²(zα + zβ)²]/Δ1²
     - 双侧：n ≈ [2σ²(zα/2 + zβ)²]/Δ1²
  2. 样本量向上取整，验证实际α和β。
- **输入数据**：
  - 假设类型（下拉选择：单侧>、单侧<、双侧）
  - 备择假设差值Δ1（|μX-μY|，正数）
  - 总体标准差σ（正数）
  - 显著性水平α（默认0.05）
  - 第二类错误概率β（默认0.1）
- **输出数据**：
  - 每组所需最小样本量n（正整数）
  - 实际验证的α和β值
  - 计算依据公式（文字说明）

---

#### 功能5：单样本比例检验功效函数计算
- **功能描述**：基于二项分布，计算单样本比例检验的功效值，支持精确计算或正态近似计算。
- **程序设计**：
  1. 第一步：根据α和原假设p0，确定临界值c（满足P(Y≤c|p0)=α，Y~Binomial(n,p0)）。
  2. 第二步：代入备择假设p1，计算功效：
     - 精确计算：K(p1) = Σ（y=0到c）C(n,y)p1^y(1-p1)^(n-y)
     - 正态近似：K(p1) ≈ Φ[(c - np1)/√(np1(1-p1))]
  3. 第二类错误概率β=1-K(p1)。
- **输入数据**：
  - 假设类型（下拉选择：单侧>、单侧<、双侧）
  - 原假设比例p0（0-1之间的数值）
  - 备择假设比例p1（0-1之间的数值）
  - 样本量n（正整数）
  - 显著性水平α（默认0.05）
  - 计算方法（下拉选择：精确二项式、正态近似）
- **输出数据**：
  - 临界值c（保留1位小数）
  - 功效值K(p1)（保留4位小数）
  - 第二类错误概率β（保留4位小数）
  - 计算方法+参数汇总（文字说明）

---

#### 功能6：单样本比例检验样本量计算
- **功能描述**：根据α、β和比例效应量，计算单样本比例检验所需的最小样本量，支持正态近似初算+精确验证。
- **程序设计**：
  1. 正态近似初算公式（单侧）：n ≈ [zα√(p0(1-p0)) + zβ√(p1(1-p1))]^2 / (p1-p0)^2
  2. 双侧替换zα为zα/2，样本量向上取整。
  3. 用精确二项分布验证，调整n和c直至满足α和β要求。
- **输入数据**：
  - 假设类型（下拉选择：单侧>、单侧<、双侧）
  - 原假设比例p0（0-1之间）
  - 备择假设比例p1（0-1之间，p1≠p0）
  - 显著性水平α（默认0.05）
  - 第二类错误概率β（默认0.1）
  - 验证方法（下拉选择：精确二项式、正态近似）
- **输出数据**：
  - 所需最小样本量n（正整数）
  - 临界值c（保留1位小数）
  - 验证后的实际α和β值
  - 计算方法+调整说明（文字说明）

---

### 三、通用程序设计依赖
1. 基础组件：
   - 标准正态分布CDF（Φ(x)）和分位数函数（zα查询）
   - 二项分布CDF（精确计算用）和组合数C(n,y)计算
   - 数值向上取整、小数保留格式化功能
2. 校验逻辑：
   - 输入参数合法性校验（σ>0、n为正整数、p0/p1∈[0,1]、α/β∈(0,0.5]）
   - 效应量非零校验（|μ1-μ0|>0、|p1-p0|>0）


